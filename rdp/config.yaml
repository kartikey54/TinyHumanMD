# When using TUNNEL_TOKEN, don't specify tunnel ID here
# Cloudflared will use the token to identify the tunnel
# If using named tunnel with credentials.json, uncomment and set:
# tunnel: <TUNNEL_ID>
# credentials-file: /etc/cloudflared/credentials.json

ingress:
  # RDP service - only accessible via Cloudflare tunnel
  - hostname: rdp.yourdomain.com
    service: tcp://localhost:3389
    originRequest:
      # Security settings
      noHappyEyeballs: true
      tcpKeepAlive: 30s
      keepAliveConnections: 10
      keepAliveTimeout: 90s
      connectTimeout: 10s
      tlsTimeout: 10s
      # Disable direct access
      proxyType: ""
      # Additional security
      httpHostHeader: ""
      httpOrigin: ""
  
  # Catch-all - deny everything else
  - service: http_status:404

